/**
 * Country Flags Utility
 * Maps amateur radio callsign prefixes to country flags
 */

export const PREFIX_TO_FLAG = {
    // Malaysia
    '9M': 'ğŸ‡²ğŸ‡¾', '9W': 'ğŸ‡²ğŸ‡¾',

    // North America
    'K': 'ğŸ‡ºğŸ‡¸', 'W': 'ğŸ‡ºğŸ‡¸', 'N': 'ğŸ‡ºğŸ‡¸', 'AA': 'ğŸ‡ºğŸ‡¸', 'AB': 'ğŸ‡ºğŸ‡¸', 'AC': 'ğŸ‡ºğŸ‡¸', 'AD': 'ğŸ‡ºğŸ‡¸', 'AE': 'ğŸ‡ºğŸ‡¸', 'AF': 'ğŸ‡ºğŸ‡¸', 'AG': 'ğŸ‡ºğŸ‡¸', 'AI': 'ğŸ‡ºğŸ‡¸', 'AJ': 'ğŸ‡ºğŸ‡¸', 'AK': 'ğŸ‡ºğŸ‡¸', 'AL': 'ğŸ‡ºğŸ‡¸',
    'VE': 'ğŸ‡¨ğŸ‡¦', 'VA': 'ğŸ‡¨ğŸ‡¦', 'VO': 'ğŸ‡¨ğŸ‡¦', 'VY': 'ğŸ‡¨ğŸ‡¦',
    'XE': 'ğŸ‡²ğŸ‡½', 'XF': 'ğŸ‡²ğŸ‡½',

    // Europe
    'G': 'ğŸ‡¬ğŸ‡§', 'M': 'ğŸ‡¬ğŸ‡§', '2E': 'ğŸ‡¬ğŸ‡§',
    'F': 'ğŸ‡«ğŸ‡·',
    'DL': 'ğŸ‡©ğŸ‡ª', 'DJ': 'ğŸ‡©ğŸ‡ª', 'DK': 'ğŸ‡©ğŸ‡ª', 'DO': 'ğŸ‡©ğŸ‡ª', 'DP': 'ğŸ‡©ğŸ‡ª',
    'I': 'ğŸ‡®ğŸ‡¹',
    'EA': 'ğŸ‡ªğŸ‡¸',
    'CT': 'ğŸ‡µğŸ‡¹',
    'PA': 'ğŸ‡³ğŸ‡±', 'PB': 'ğŸ‡³ğŸ‡±', 'PC': 'ğŸ‡³ğŸ‡±', 'PD': 'ğŸ‡³ğŸ‡±', 'PE': 'ğŸ‡³ğŸ‡±', 'PF': 'ğŸ‡³ğŸ‡±', 'PG': 'ğŸ‡³ğŸ‡±', 'PH': 'ğŸ‡³ğŸ‡±', 'PI': 'ğŸ‡³ğŸ‡±',
    'ON': 'ğŸ‡§ğŸ‡ª', 'OO': 'ğŸ‡§ğŸ‡ª', 'OP': 'ğŸ‡§ğŸ‡ª', 'OQ': 'ğŸ‡§ğŸ‡ª', 'OR': 'ğŸ‡§ğŸ‡ª', 'OS': 'ğŸ‡§ğŸ‡ª', 'OT': 'ğŸ‡§ğŸ‡ª',
    'HB': 'ğŸ‡¨ğŸ‡­',
    'OE': 'ğŸ‡¦ğŸ‡¹',
    'OZ': 'ğŸ‡©ğŸ‡°',
    'LA': 'ğŸ‡³ğŸ‡´',
    'SM': 'ğŸ‡¸ğŸ‡ª', '7S': 'ğŸ‡¸ğŸ‡ª', '8S': 'ğŸ‡¸ğŸ‡ª', 'SA': 'ğŸ‡¸ğŸ‡ª', 'SB': 'ğŸ‡¸ğŸ‡ª', 'SC': 'ğŸ‡¸ğŸ‡ª', 'SD': 'ğŸ‡¸ğŸ‡ª', 'SE': 'ğŸ‡¸ğŸ‡ª', 'SF': 'ğŸ‡¸ğŸ‡ª', 'SG': 'ğŸ‡¸ğŸ‡ª', 'SH': 'ğŸ‡¸ğŸ‡ª', 'SI': 'ğŸ‡¸ğŸ‡ª', 'SJ': 'ğŸ‡¸ğŸ‡ª', 'SK': 'ğŸ‡¸ğŸ‡ª', 'SL': 'ğŸ‡¸ğŸ‡ª',
    'OH': 'ğŸ‡«ğŸ‡®',
    'SP': 'ğŸ‡µğŸ‡±', 'SQ': 'ğŸ‡µğŸ‡±', 'SN': 'ğŸ‡µğŸ‡±', 'SO': 'ğŸ‡µğŸ‡±', 'SR': 'ğŸ‡µğŸ‡±', '3Z': 'ğŸ‡µğŸ‡±',
    'OK': 'ğŸ‡¨ğŸ‡¿', 'OL': 'ğŸ‡¨ğŸ‡¿',
    'OM': 'ğŸ‡¸ğŸ‡°',
    'HA': 'ğŸ‡­ğŸ‡º', 'HG': 'ğŸ‡­ğŸ‡º',
    'YO': 'ğŸ‡·ğŸ‡´', 'YP': 'ğŸ‡·ğŸ‡´', 'YQ': 'ğŸ‡·ğŸ‡´', 'YR': 'ğŸ‡·ğŸ‡´',
    'LZ': 'ğŸ‡§ğŸ‡¬',
    'SV': 'ğŸ‡¬ğŸ‡·', 'SW': 'ğŸ‡¬ğŸ‡·', 'SX': 'ğŸ‡¬ğŸ‡·', 'SY': 'ğŸ‡¬ğŸ‡·', 'SZ': 'ğŸ‡¬ğŸ‡·', 'J4': 'ğŸ‡¬ğŸ‡·',
    '9A': 'ğŸ‡­ğŸ‡·',
    'S5': 'ğŸ‡¸ğŸ‡®',
    'UA': 'ğŸ‡·ğŸ‡º', 'RA': 'ğŸ‡·ğŸ‡º', 'RU': 'ğŸ‡·ğŸ‡º', 'RV': 'ğŸ‡·ğŸ‡º', 'RW': 'ğŸ‡·ğŸ‡º', 'RX': 'ğŸ‡·ğŸ‡º', 'RY': 'ğŸ‡·ğŸ‡º', 'RZ': 'ğŸ‡·ğŸ‡º',

    // Asia
    'JA': 'ğŸ‡¯ğŸ‡µ', 'JH': 'ğŸ‡¯ğŸ‡µ', 'JR': 'ğŸ‡¯ğŸ‡µ', 'JE': 'ğŸ‡¯ğŸ‡µ', 'JF': 'ğŸ‡¯ğŸ‡µ', 'JG': 'ğŸ‡¯ğŸ‡µ', 'JI': 'ğŸ‡¯ğŸ‡µ', 'JJ': 'ğŸ‡¯ğŸ‡µ', 'JK': 'ğŸ‡¯ğŸ‡µ', 'JL': 'ğŸ‡¯ğŸ‡µ', 'JM': 'ğŸ‡¯ğŸ‡µ', 'JN': 'ğŸ‡¯ğŸ‡µ', 'JO': 'ğŸ‡¯ğŸ‡µ', 'JP': 'ğŸ‡¯ğŸ‡µ', 'JQ': 'ğŸ‡¯ğŸ‡µ', 'JS': 'ğŸ‡¯ğŸ‡µ', '7J': 'ğŸ‡¯ğŸ‡µ', '8J': 'ğŸ‡¯ğŸ‡µ',
    'HL': 'ğŸ‡°ğŸ‡·', 'DS': 'ğŸ‡°ğŸ‡·', '6K': 'ğŸ‡°ğŸ‡·', '6L': 'ğŸ‡°ğŸ‡·', '6M': 'ğŸ‡°ğŸ‡·', '6N': 'ğŸ‡°ğŸ‡·',
    'BY': 'ğŸ‡¨ğŸ‡³', 'BA': 'ğŸ‡¨ğŸ‡³', 'BD': 'ğŸ‡¨ğŸ‡³', 'BG': 'ğŸ‡¨ğŸ‡³', 'BI': 'ğŸ‡¨ğŸ‡³', 'BZ': 'ğŸ‡¨ğŸ‡³',
    'BV': 'ğŸ‡¹ğŸ‡¼', 'BU': 'ğŸ‡¹ğŸ‡¼', 'BW': 'ğŸ‡¹ğŸ‡¼', 'BX': 'ğŸ‡¹ğŸ‡¼',
    'VR': 'ğŸ‡­ğŸ‡°',
    'VU': 'ğŸ‡®ğŸ‡³',
    'HS': 'ğŸ‡¹ğŸ‡­', 'E2': 'ğŸ‡¹ğŸ‡­',
    'YB': 'ğŸ‡®ğŸ‡©', 'YC': 'ğŸ‡®ğŸ‡©', 'YD': 'ğŸ‡®ğŸ‡©', 'YE': 'ğŸ‡®ğŸ‡©', 'YF': 'ğŸ‡®ğŸ‡©', 'YG': 'ğŸ‡®ğŸ‡©', 'YH': 'ğŸ‡®ğŸ‡©',
    'DU': 'ğŸ‡µğŸ‡­', 'DV': 'ğŸ‡µğŸ‡­', 'DW': 'ğŸ‡µğŸ‡­', 'DX': 'ğŸ‡µğŸ‡­', 'DY': 'ğŸ‡µğŸ‡­', 'DZ': 'ğŸ‡µğŸ‡­', '4D': 'ğŸ‡µğŸ‡­', '4E': 'ğŸ‡µğŸ‡­', '4F': 'ğŸ‡µğŸ‡­', '4G': 'ğŸ‡µğŸ‡­', '4H': 'ğŸ‡µğŸ‡­', '4I': 'ğŸ‡µğŸ‡­',
    '9V': 'ğŸ‡¸ğŸ‡¬', 'S6': 'ğŸ‡¸ğŸ‡¬',

    // Oceania
    'VK': 'ğŸ‡¦ğŸ‡º',
    'ZL': 'ğŸ‡³ğŸ‡¿',

    // South America
    'PY': 'ğŸ‡§ğŸ‡·', 'PP': 'ğŸ‡§ğŸ‡·', 'PR': 'ğŸ‡§ğŸ‡·', 'PS': 'ğŸ‡§ğŸ‡·', 'PT': 'ğŸ‡§ğŸ‡·', 'PU': 'ğŸ‡§ğŸ‡·', 'PV': 'ğŸ‡§ğŸ‡·', 'PW': 'ğŸ‡§ğŸ‡·', 'PX': 'ğŸ‡§ğŸ‡·', 'ZV': 'ğŸ‡§ğŸ‡·', 'ZW': 'ğŸ‡§ğŸ‡·', 'ZX': 'ğŸ‡§ğŸ‡·', 'ZY': 'ğŸ‡§ğŸ‡·', 'ZZ': 'ğŸ‡§ğŸ‡·',
    'LU': 'ğŸ‡¦ğŸ‡·', 'LW': 'ğŸ‡¦ğŸ‡·', 'AZ': 'ğŸ‡¦ğŸ‡·',
    'CE': 'ğŸ‡¨ğŸ‡±', 'XQ': 'ğŸ‡¨ğŸ‡±', '3G': 'ğŸ‡¨ğŸ‡±',

    // Africa
    'ZS': 'ğŸ‡¿ğŸ‡¦', 'ZR': 'ğŸ‡¿ğŸ‡¦', 'ZU': 'ğŸ‡¿ğŸ‡¦',
    'CN': 'ğŸ‡²ğŸ‡¦', '5C': 'ğŸ‡²ğŸ‡¦', '5D': 'ğŸ‡²ğŸ‡¦', '5E': 'ğŸ‡²ğŸ‡¦', '5F': 'ğŸ‡²ğŸ‡¦', '5G': 'ğŸ‡²ğŸ‡¦',
};

export const getFlagForCallsign = (callsign) => {
    if (!callsign) return null;
    const upper = callsign.toUpperCase();

    // Sort prefixes by length (longest first) to match most specific prefix
    const sortedPrefixes = Object.keys(PREFIX_TO_FLAG).sort((a, b) => b.length - a.length);

    for (const prefix of sortedPrefixes) {
        if (upper.startsWith(prefix)) {
            return PREFIX_TO_FLAG[prefix];
        }
    }

    // Check prefix map from callsign.js if available, or fallback
    // For now, return a generic globe if not found, or null
    return 'ğŸŒ';
};
